<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/styles/assets/sandwich-svgrepo-com.svg">
    <link rel="stylesheet" href="styles/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <!-- <link rel="stylesheet" href="/dist/css/app.css"> its breaking bootstrap styles-->
    <title>StockWich</title>
</head>
<!-- Stock market Dashboard -->
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="">   
                <a class="navbar-brand" href="#">
                    <img src="styles/assets/sandwich-svgrepo-com.svg" class="mb-1 sandwichLogoNav" >
                    StockWich
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="/index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/Dash.html">Dash</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Gallery.html">Gallary</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Contact.html">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
      </nav>
      
      <div class="container-fluid">
        <div class="row flex-nowrap">
            <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
                <div class="d-flex flex-column align-items-start align-items-sm-start px-3 pt-2 text-white min-vh-100">
                    <a href="/" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                        <span class="fs-5 d-none d-sm-inline">Menu</span>
                    </a>
                        <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-start align-items-sm-start" id="menu">
                            <!-- <li class="nav-item">
                                <a href="#" class="nav-link align-middle px-0 sideBarOpt">
                                    <i class="fs-4 bi-house"></i> <span class="ms-1 d-none d-sm-inline">Home</span>
                                </a>
                            </li> -->
                            <li>
                                <a href="" data-bs-toggle="collapse" class="nav-link px-0 align-middle sideBarOpt">
                                    <i class="fs-4 bi-speedometer2"></i> <span class="ms-1 d-none d-sm-inline">Dashboard</span> </a>
                                <!-- <ul class="collapse show nav flex-column ms-1" id="submenu1" data-bs-parent="#menu">
                                    <li class="w-100">
                                        <a href="#" class="nav-link px-0 sideBarOpt"> <span class="d-none d-sm-inline">Item</span> 1 </a>
                                    </li>
                                    <li>
                                        <a href="#" class="nav-link px-0 sideBarOpt"> <span class="d-none d-sm-inline">Item</span> 2 </a>
                                    </li>
                                </ul> -->
                            </li>
                            <li>
                                <a href="#submenu1" data-bs-toggle="collapse" class="nav-link px-0 align-middle sideBarOpt">
                                <i class="fs-4 bi-table"></i> <span class="ms-1 d-none d-sm-inline">Stock Data</span></a>
                                <ul class="collapse nav flex-column ms-1" id="submenu1" data-bs-parent="#menu">
                                    <li class="w-100 addDashItemIndent">
                                        <button id="stockLineClose" class="nav-link px-0 sideBarOpt"> <i id="stockLineCloseIco" class="fs-6 bi-eye"></i> <span class="d-sm-inline">Close</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button id="stockLineOpen" class="nav-link px-0 sideBarOpt"> <i id="stockLineOpenIco" class="fs-6 bi-eye"></i> <span class=" d-sm-inline">Open</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button id="stockLineHigh" class="nav-link px-0 sideBarOpt"> <i id="stockLineHighIco" class="fs-6 bi-eye"></i> <span class=" d-sm-inline">High</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button id="stockLineLow" class="nav-link px-0 sideBarOpt"> <i id="stockLineLowIco" class="fs-6 bi-eye"></i> <span class="d-sm-inline">Low</span></button>
                                    </li>
                                    <!-- <li class="w-100 addDashItemIndent">
                                        <button onclick="" class="nav-link px-0 sideBarOpt"> <i id="stockLineClose" class="fs-6 bi-eye"></i> <span class="d-none d-sm-inline">Close</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button class="nav-link px-0 sideBarOpt"> <i id="stockLineOpen" class="fs-6 bi-eye"></i> <span class="d-none d-sm-inline">Open</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button class="nav-link px-0 sideBarOpt"> <i id="stockLineHigh" class="fs-6 bi-eye"></i> <span class="d-none d-sm-inline">High</span></button>
                                    </li>
                                    <li class="addDashItemIndent">
                                        <button class="nav-link px-0 sideBarOpt"> <i id="stockLineLow" class="fs-6 bi-eye"></i> <span class="d-none d-sm-inline">Low</span></button>
                                    </li> -->
                                </ul>
                            </li>
                            <li>
                                <a href="#submenu2" data-bs-toggle="collapse" class="nav-link px-0 align-middle sideBarOpt">
                                <i class="fs-4 bi-grid"></i> <span class="ms-1 d-none d-sm-inline">Properties</span> </a>
                                <ul class="collapse nav flex-column ms-1 animationSmoother" id="submenu2" data-bs-parent="#menu">
                                    <li class="pe-2">
                                        <div class="" style="width: 50px;">
                                            <label for="CurrencyUpdater" class="form-label text-warning dropDownMargenCorrect">Currency</i></label>
                                            <select id="CurrencyUpdater" class="form-select">
                                              <option selected>EUR €</option>
                                              <option>CAD $</option>
                                              <option>USD $</option>
                                              <option>AUD $</option>
                                              <option>BTC ₿</option>
                                              <option>GBP £</option>
                                              <option>KWD د.ك</option>
                                              <option>YEN ¥</option>
                                              <option>CNY ¥</option>
                                              <option>INR ₹</option>
                                              <option>RUB ₽</option>
                                            </select>
                                          </div>
                                    </li>
                                    <li class="pt-2">
                                        <div class="" style="width: 50px;">
                                            <label for="startDateUpdater" class="text-warning">Start</label>
                                            <!-- correction I was monkey-->
                                            <input id="startDateUpdater" class="form-control" type="date" data-bs-toggle="tooltip" data-bs-placement="right" title="Stay in the limit of your initial request"/>
                                        </div>
                                    </li>
                                    <li class="pt-2">
                                        <div class="" style="width: 50px;">
                                            <label for="endDateUpdater" class="text-warning">End</label>
                                            <input id="endDateUpdater" class="form-control" type="date" data-bs-toggle="tooltip" data-bs-placement="right" title="Stay in the limit of your initial request"/>
                                        </div>
                                    </li>
                                    <li class="pt-sm-2 pt-4">
                                        <label class="d-none d-sm-block text-warning pb-1">Update Graph</label>
                                        <button id="changeGraphWithNewProperties" class="btn btn-primary" style="width: 50px;"><i class="bi-upload"></i></button>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a id="getStarted" data-bs-toggle="collapse" class="nav-link px-0 align-middle sideBarOpt">
                                    <i class="fs-4 bi-plus-square"></i> <span class="ms-1 d-none d-sm-inline">New Stock Graph</span></a>
                            </li>
                            <li>
                                <a id="removeDataStored" data-bs-toggle="collapse" class="nav-link px-0 align-middle sideBarOpt">
                                    <i class="fs-4 bi-x-square"></i> <span class="ms-1 d-none d-sm-inline">Remove Graphs</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            <div class="col py-3">
                <!-- Graph title-->
                <div class="row">
                    <div class="col">
                        <h1 class="display-5" id="mainGraphTit"></h1>
                        <p style="font-size: 9px;" id="mainGraphSubTit"></p>
                    </div>
                <!-- Toast -->
                    <div class="container position-relative" style="z-index: 11;">
                        <div style="margin-top: 110px!important;" class="toast-container position-absolute start-50 translate-middle p-3" id="toastStockForm">
                          <div class="toast hide" id="toastFormToggler">
                            <!-- add get started btn toggle for show hide toast -->
                            <div class="toast-header" >
                              <!-- <img src="..." class="rounded me-2" alt="..."> -->
                              <strong class="me-auto">Stock Form</strong>
                              <button type="button" class="btn-close bg-warning" data-bs-dismiss="toast" id="toastFormCloser"></button>
                              <!-- <small>11 mins ago</small> -->
                            </div>
                            <div class="p-3">
                                <!-- form to pick from list of stocks (dropdown), start date, end date and the curency (dropdown)-->
                                <div class="row g-3">
                                    <div class="col-md-6">
                                      <label for="Stock" class="form-label">Stock</label>
                                      <select id="Stock" class="form-select">
                                        <option selected>Class III Milk Futures,Dec-2022 (DC=F)</option>
                                        <option>Class IV Milk Futures,May-2023 (GDK=F)</option>
                                        <option>Chicago SRW Wheat Futures,Mar-2 (ZW=F)</option>
                                        <option>KC HRW Wheat Futures,Mar-2023 (KE=F)</option>
                                        <option>KC HRW Wheat TAS Futures,Mar-20 (KET=F)</option>
                                        <option>Mini-sized Chicago SRW Wheat Fu (XW=F)</option>
                                        <option>Block Cheese Futures,Dec-2022 (BLK=F)</option>
                                        <option>Rashtriya Chemicals and Fertilizers Limited (RCF.NS)</option>
                                        <option>Gujarat Narmada Valley Fertilizers & Chemicals Limited (GNFC.NS)</option>
                                      </select>
                                    </div>
                                    <div class="col-md-6">
                                      <label for="Currency" class="form-label">Currency</label>
                                      <select id="Currency" class="form-select">
                                        <option selected>EUR €</option>
                                        <option>CAD $</option>
                                        <option>USD $</option>
                                        <option>AUD $</option>
                                        <option>BTC ₿</option>
                                        <option>GBP £</option>
                                        <option>KWD د.ك</option>
                                        <option>YEN ¥</option>
                                        <option>CNY ¥</option>
                                        <option>INR ₹</option>
                                        <option>RUB ₽</option>
                                      </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="startDate">Start</label>
                                        <input id="startDate" class="form-control" type="date" />
                                    </div>
                                    <div class="col-md-6">
                                        <label for="endDate">End</label>
                                        <input id="endDate" class="form-control" type="date" />
                                    </div>
                                    <div>
                                        <div>
                                            <button id="loadGraphFromForm" class="btn btn-primary">View in Dash</button>
                                        </div>
                                        <div id="startLoading" class="d-none justify-content-center">
                                            <div class="spinner-border" role="status">
                                              <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>        
                            </div>
                          </div>
                        </div>
                    </div>
                <canvas class="chartjs-render-monitor mainGraphResizer" id="dashMainGraph"></canvas>
                <canvas class="chartjs-render-monitor mainGraphResizer" id="dashMainGraphBar"></canvas>
            </div>
        </div>
    </div>
    <script scr="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://unpkg.com/@adminkit/core@latest/dist/js/app.js"></script>   
    <script type="module" src="/src/graphMakers/createDashGraph.js"></script>
    <script type="module" src="src/apiGetters/getDataFromForm.js"></script>
    <script src="/src/util/toastViewerDetatched.js"></script>
    <script src="/src/formInfoGetter/getProperties2UpdateGraph.js"></script>
</body>

